---
description: 自动创建 Pull Request
---

### 我希望你提供给我的内容

1. 自动创建 GitHub Pull Request
2. PR 标题应该基于当前的改动内容生成
3. PR 描述应该包含完整的改动说明

### 创建 PR 的要求

**基本要求：**

- 使用 `gh pr create` 命令创建 PR
- PR 标题符合 git 规范，简洁明确
- PR 描述包含完整的改动说明、影响范围和验证方式
- 基于当前分支与主分支的差异生成 PR 内容

### 我的要求

**PR 创建流程：**

1. 获取当前分支名称
2. 获取仓库主分支名称（默认为 main）
3. 分析当前分支与主分支的差异
4. 生成符合规范的 PR 标题和描述
5. 使用 `gh pr create` 创建 PR

**PR 描述模板要求：**

```markdown
## 改动说明

### 为什么改
<改动动机和问题背景>

### 改了什么
<具体的改动内容>

### 影响范围
<受影响的模块和兼容性>

### 验证方式
<测试方法或验证点>

---

Generated with [Claude Code](https://claude.ai/code)
```

**注意事项：**

1. 确保当前分支有未推送的提交或有与主分支的差异
2. PR 创建前应该先推送当前分支到远程
3. 如果主分支不是 main，请自动检测并使用正确的主分支名称
4. 标题和描述都应使用中文
5. 不要为空改动或已经合并的改动创建 PR

### 输出格式

请按照以下流程执行：

1. 检查当前分支状态
2. 推送当前分支到远程（如果需要）
3. 生成 PR 标题和描述
4. 创建 PR 并返回 PR 链接
