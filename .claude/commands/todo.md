---
description: 创建新的待办事项文档，用于记录架构演进过程中的技术债务和后续任务
argument-hint: <待办事项标题>
---

# 创建待办事项文档

你正在帮助用户创建一个新的待办事项（Todo）文档。这个文档用于记录架构演进过程中的技术债务、重构任务或需要在合适时机处理的事项。

## 1. 确定参数

- **待办事项标题**：`<title>$1</title>`

## 2. 交互式收集信息

通过以下问题逐步收集待办事项的详细信息：

### 2.1 背景信息
```
请描述这个待办事项的背景：
- 为什么会有这个待办事项？
- 是在什么情况下发现的？
```

### 2.2 Todo 原因
```
请说明为什么现在不能处理，需要留作 todo：
- 当前有什么阻碍？
- 为什么不是现在处理的合适时机？
```

### 2.3 处理时机
```
请说明什么情况下应该处理这个 todo：
- 什么前置条件需要满足？
- 什么信号表明可以开始处理？
```

### 2.4 处理方法
```
请描述正确的处理方法：
- 需要执行哪些步骤？
- 有什么注意事项？
- 需要遵循什么规范？
```

### 2.5 影响范围
```
请列出这个 todo 影响的代码位置：
- 涉及哪些文件？
- 涉及哪些模块或功能？
```

### 2.6 关联信息
```
请提供关联信息（可选）：
- 相关的 Issue 编号
- 相关的 PR 编号
- 其他相关文档链接
```

## 3. 生成文档

根据收集的信息，生成以下格式的 Markdown 文档：

```markdown
# <待办事项标题>

## 背景

<用户提供的背景信息>

## 为什么 Todo

<用户提供的 todo 原因>

## 合适的处理时机

<用户提供的处理时机>

## 正确的处理方法

<用户提供的处理方法>

## 影响范围

<用户提供的影响范围>

## 相关 Issue/PR

<用户提供的关联信息>

## 创建时间

<当前日期，格式：YYYY-MM-DD>

## 更新记录

- **YYYY-MM-DD**: 创建文档
```

## 4. 保存文件

- **文件路径**：`todos/` 目录
- **文件命名**：`YYYY-MM-DD-<简短标题>.md`
  - 使用当前日期
  - 标题使用 kebab-case 格式
  - 移除特殊字符
  - 保持简短但有意义

示例：`2025-01-23-refactor-connection-manager.md`

## 5. 质量检查

确认文档包含以下要素：
- [ ] 背景信息清晰完整
- [ ] Todo 原因明确
- [ ] 处理时机具体可判断
- [ ] 处理方法详细可执行
- [ ] 影响范围准确列出
- [ ] 文件命名符合规范

## 6. 使用示例

```
用户: /todo 移除旧的负载均衡逻辑

你将通过交互式问答收集信息：
1. 背景：在独立架构迁移中，旧的负载均衡逻辑已不再需要
2. 为什么 Todo：当前需要保持向后兼容，等待所有迁移完成
3. 处理时机：当所有端点都迁移到独立架构后
4. 处理方法：删除 LoadBalancer 类，移除相关引用
5. 影响范围：apps/backend/services/LoadBalancer.ts
6. 相关 Issue: #590

最终生成文件：todos/2025-01-23-remove-old-load-balancer.md
```

## 7. 相关技能

创建完 todo 文档后，建议使用 `todo-manager` 技能来：
- 查看所有现有的 todo
- 了解 todo 管理最佳实践
- 学习如何维护 todo 文档
